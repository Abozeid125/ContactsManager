2025-08-18 01:32:10.166 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-18 01:32:10.461 +03:00 [INF] Now listening on: http://localhost:5239
2025-08-18 01:32:10.569 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-18 01:32:10.572 +03:00 [INF] Hosting environment: Development
2025-08-18 01:32:10.574 +03:00 [INF] Content root path: D:\aspdotnetcore\ContactsManager.Web\ContactsManager.Web
2025-08-18 01:32:11.752 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/ - null null
2025-08-18 01:32:12.022 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-18 01:32:12.037 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-18 01:32:12.046 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/ - 302 0 null 297.6007ms
2025-08-18 01:32:12.060 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2F - null null
2025-08-18 01:32:12.089 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:32:12.140 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:32:13.073 +03:00 [INF] Executing ViewResult, running view Login.
2025-08-18 01:32:13.330 +03:00 [INF] Executed ViewResult - view Login executed in 264.1535ms.
2025-08-18 01:32:13.334 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI) in 1189.3558ms
2025-08-18 01:32:13.337 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:32:13.344 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2F - 200 null text/html; charset=utf-8 1284.8013ms
2025-08-18 01:32:13.350 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:32:13.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:32:13.361 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 9.6227ms
2025-08-18 01:32:13.548 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 197.7528ms
2025-08-18 01:32:13.585 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/favicon.ico - null null
2025-08-18 01:32:13.595 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-18 01:32:13.598 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-18 01:32:13.601 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/favicon.ico - 302 0 null 15.5266ms
2025-08-18 01:32:13.608 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - null null
2025-08-18 01:32:13.615 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:32:13.618 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:32:13.638 +03:00 [INF] Executing ViewResult, running view Login.
2025-08-18 01:32:13.649 +03:00 [INF] Executed ViewResult - view Login executed in 11.7923ms.
2025-08-18 01:32:13.652 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI) in 29.9369ms
2025-08-18 01:32:13.655 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:32:13.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - 200 null text/html; charset=utf-8 49.3094ms
2025-08-18 01:38:53.641 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-18 01:38:53.851 +03:00 [INF] Now listening on: http://localhost:5239
2025-08-18 01:38:53.930 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-18 01:38:53.933 +03:00 [INF] Hosting environment: Development
2025-08-18 01:38:53.934 +03:00 [INF] Content root path: D:\aspdotnetcore\ContactsManager.Web\ContactsManager.Web
2025-08-18 01:38:54.380 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/ - null null
2025-08-18 01:38:54.520 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-18 01:38:54.534 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-18 01:38:54.541 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/ - 302 0 null 163.5415ms
2025-08-18 01:38:54.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2F - null null
2025-08-18 01:38:54.577 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:38:54.614 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:38:54.777 +03:00 [INF] Executing ViewResult, running view Login.
2025-08-18 01:38:55.062 +03:00 [INF] Executed ViewResult - view Login executed in 294.9958ms.
2025-08-18 01:38:55.067 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI) in 449.2139ms
2025-08-18 01:38:55.071 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:38:55.071 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:38:55.079 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:38:55.079 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 8.5095ms
2025-08-18 01:38:55.084 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2F - 200 null text/html; charset=utf-8 528.003ms
2025-08-18 01:38:55.113 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.7977ms
2025-08-18 01:38:55.175 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/favicon.ico - null null
2025-08-18 01:38:55.187 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-18 01:38:55.193 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-18 01:38:55.196 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/favicon.ico - 302 0 null 21.0819ms
2025-08-18 01:38:55.204 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - null null
2025-08-18 01:38:55.211 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:38:55.216 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:38:55.234 +03:00 [INF] Executing ViewResult, running view Login.
2025-08-18 01:38:55.246 +03:00 [INF] Executed ViewResult - view Login executed in 11.5184ms.
2025-08-18 01:38:55.251 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI) in 30.4987ms
2025-08-18 01:38:55.256 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:38:55.261 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - 200 null text/html; charset=utf-8 56.9402ms
2025-08-18 01:38:57.945 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/Account/Register - null null
2025-08-18 01:38:57.954 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:38:57.960 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:38:57.985 +03:00 [INF] Executing ViewResult, running view Register.
2025-08-18 01:38:58.033 +03:00 [INF] Executed ViewResult - view Register executed in 48.0564ms.
2025-08-18 01:38:58.037 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI) in 68.2661ms
2025-08-18 01:38:58.039 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:38:58.042 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:38:58.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/Account/Register - 200 null text/html; charset=utf-8 96.4125ms
2025-08-18 01:38:58.042 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:38:58.053 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.9273ms
2025-08-18 01:38:58.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 11.719ms
2025-08-18 01:38:58.084 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/favicon.ico - null null
2025-08-18 01:38:58.090 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-18 01:38:58.096 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-18 01:38:58.099 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/favicon.ico - 302 0 null 14.7284ms
2025-08-18 01:38:58.107 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - null null
2025-08-18 01:38:58.116 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:38:58.118 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:38:58.125 +03:00 [INF] Executing ViewResult, running view Login.
2025-08-18 01:38:58.130 +03:00 [INF] Executed ViewResult - view Login executed in 4.8631ms.
2025-08-18 01:38:58.134 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI) in 9.2403ms
2025-08-18 01:38:58.136 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:38:58.138 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - 200 null text/html; charset=utf-8 30.7357ms
2025-08-18 01:39:21.418 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5239/Account/Register - application/x-www-form-urlencoded 328
2025-08-18 01:39:21.427 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:39:21.444 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ContactsManager.Core.DTOS.RegisterDTO) on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:39:21.483 +03:00 [INF] Executing ViewResult, running view Register.
2025-08-18 01:39:21.496 +03:00 [INF] Executed ViewResult - view Register executed in 13.1538ms.
2025-08-18 01:39:21.501 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI) in 51.6648ms
2025-08-18 01:39:21.506 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:39:21.511 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5239/Account/Register - 200 null text/html; charset=utf-8 92.3328ms
2025-08-18 01:39:21.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:39:21.521 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:39:21.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.9127ms
2025-08-18 01:39:21.539 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 18.181ms
2025-08-18 01:39:21.582 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/favicon.ico - null null
2025-08-18 01:39:21.590 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-18 01:39:21.599 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-18 01:39:21.609 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/favicon.ico - 302 0 null 27.285ms
2025-08-18 01:39:21.623 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - null null
2025-08-18 01:39:21.634 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:39:21.643 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:39:21.653 +03:00 [INF] Executing ViewResult, running view Login.
2025-08-18 01:39:21.660 +03:00 [INF] Executed ViewResult - view Login executed in 6.921ms.
2025-08-18 01:39:21.664 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI) in 12.5173ms
2025-08-18 01:39:21.668 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:39:21.673 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - 200 null text/html; charset=utf-8 49.837ms
2025-08-18 01:40:06.978 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5239/Account/Register - application/x-www-form-urlencoded 344
2025-08-18 01:40:06.993 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:40:06.997 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ContactsManager.Core.DTOS.RegisterDTO) on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:40:12.578 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PersoName], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-18 01:40:12.676 +03:00 [INF] Executing ViewResult, running view Register.
2025-08-18 01:40:12.680 +03:00 [INF] Executed ViewResult - view Register executed in 4.3617ms.
2025-08-18 01:40:12.683 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI) in 5677.3927ms
2025-08-18 01:40:12.686 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:40:12.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:40:12.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:40:12.692 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 3.9826ms
2025-08-18 01:40:12.694 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5239/Account/Register - 200 null text/html; charset=utf-8 5715.296ms
2025-08-18 01:40:12.705 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.652ms
2025-08-18 01:40:12.732 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/favicon.ico - null null
2025-08-18 01:40:12.738 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-18 01:40:12.741 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-18 01:40:12.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/favicon.ico - 302 0 null 15.7403ms
2025-08-18 01:40:12.764 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - null null
2025-08-18 01:40:12.777 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:40:12.782 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:40:12.797 +03:00 [INF] Executing ViewResult, running view Login.
2025-08-18 01:40:12.802 +03:00 [INF] Executed ViewResult - view Login executed in 5.5348ms.
2025-08-18 01:40:12.807 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI) in 11.0356ms
2025-08-18 01:40:12.812 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:40:12.817 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Ffavicon.ico - 200 null text/html; charset=utf-8 52.3365ms
2025-08-18 01:40:47.431 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5239/Account/Register - application/x-www-form-urlencoded 346
2025-08-18 01:40:47.446 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:40:47.452 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ContactsManager.Core.DTOS.RegisterDTO) on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:40:47.834 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PersoName], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-18 01:40:48.063 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersoName], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-08-18 01:40:48.174 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2025-08-18 01:40:48.227 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-08-18 01:40:48.246 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-08-18 01:40:48.252 +03:00 [INF] Executing RedirectResult, redirecting to /persons/Index.
2025-08-18 01:40:48.257 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI) in 791.9457ms
2025-08-18 01:40:48.263 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:40:48.267 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5239/Account/Register - 302 0 null 836.2802ms
2025-08-18 01:40:48.300 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/persons/Index - null null
2025-08-18 01:40:48.319 +03:00 [INF] Executing endpoint 'CRUDexample.Controllers.PersonController.Index (ContactsManager.UI)'
2025-08-18 01:40:48.336 +03:00 [INF] Route matched with {action = "Index", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.String, System.String, System.String, ServiceContracts.Enums.SortOrderOptions) on controller CRUDexample.Controllers.PersonController (ContactsManager.UI).
2025-08-18 01:40:48.350 +03:00 [INF] Person Index method Filter onexecuting
2025-08-18 01:40:48.536 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PersonId], [p].[Address], [p].[CountryId], [p].[DateOfBirth], [p].[Email], [p].[Gender], [p].[Name], [p].[ReceiveNewsLetters], [p].[TaxIdentificationNumber], [c].[Guid], [c].[CountryName]
FROM [Persons] AS [p]
LEFT JOIN [Countries] AS [c] ON [p].[CountryId] = [c].[Guid]
2025-08-18 01:40:48.652 +03:00 [INF] Person Index method Filter on executed
2025-08-18 01:40:48.656 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-18 01:40:48.800 +03:00 [INF] Executed ViewResult - view Index executed in 145.4389ms.
2025-08-18 01:40:48.805 +03:00 [INF] Executed action CRUDexample.Controllers.PersonController.Index (ContactsManager.UI) in 460.0696ms
2025-08-18 01:40:48.811 +03:00 [INF] Executed endpoint 'CRUDexample.Controllers.PersonController.Index (ContactsManager.UI)'
2025-08-18 01:40:48.818 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/persons/Index - 200 null text/html; charset=utf-8 517.3543ms
2025-08-18 01:40:48.819 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:40:48.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:40:48.843 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 23.3619ms
2025-08-18 01:40:48.862 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.9898ms
2025-08-18 01:40:48.988 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/favicon.ico - null null
2025-08-18 01:40:48.996 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/favicon.ico - 404 0 null 7.5736ms
2025-08-18 01:40:49.003 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5239/favicon.ico, Response status code: 404
2025-08-18 01:55:46.757 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-18 01:55:46.879 +03:00 [INF] Now listening on: http://localhost:5239
2025-08-18 01:55:46.972 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-18 01:55:46.975 +03:00 [INF] Hosting environment: Development
2025-08-18 01:55:46.977 +03:00 [INF] Content root path: D:\aspdotnetcore\ContactsManager.Web\ContactsManager.Web
2025-08-18 01:55:47.141 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/persons/Index - null null
2025-08-18 01:55:47.483 +03:00 [INF] Executing endpoint 'CRUDexample.Controllers.PersonController.Index (ContactsManager.UI)'
2025-08-18 01:55:47.538 +03:00 [INF] Route matched with {action = "Index", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.String, System.String, System.String, ServiceContracts.Enums.SortOrderOptions) on controller CRUDexample.Controllers.PersonController (ContactsManager.UI).
2025-08-18 01:55:47.566 +03:00 [INF] Person Index method Filter onexecuting
2025-08-18 01:55:49.104 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PersonId], [p].[Address], [p].[CountryId], [p].[DateOfBirth], [p].[Email], [p].[Gender], [p].[Name], [p].[ReceiveNewsLetters], [p].[TaxIdentificationNumber], [c].[Guid], [c].[CountryName]
FROM [Persons] AS [p]
LEFT JOIN [Countries] AS [c] ON [p].[CountryId] = [c].[Guid]
2025-08-18 01:55:49.267 +03:00 [INF] Person Index method Filter on executed
2025-08-18 01:55:49.279 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-18 01:55:49.458 +03:00 [INF] Executed ViewResult - view Index executed in 182.167ms.
2025-08-18 01:55:49.465 +03:00 [INF] Executed action CRUDexample.Controllers.PersonController.Index (ContactsManager.UI) in 1917.7857ms
2025-08-18 01:55:49.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:55:49.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:55:49.469 +03:00 [INF] Executed endpoint 'CRUDexample.Controllers.PersonController.Index (ContactsManager.UI)'
2025-08-18 01:55:49.483 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 16.2361ms
2025-08-18 01:55:49.492 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/persons/Index - 200 null text/html; charset=utf-8 2355.6002ms
2025-08-18 01:55:49.502 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.6778ms
2025-08-18 01:55:52.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/Account/Logout - null null
2025-08-18 01:55:52.076 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Logout (ContactsManager.UI)'
2025-08-18 01:55:52.086 +03:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:55:52.105 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-08-18 01:55:52.113 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-18 01:55:52.119 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-08-18 01:55:52.123 +03:00 [INF] Executing RedirectResult, redirecting to /persons/Index.
2025-08-18 01:55:52.128 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Logout (ContactsManager.UI) in 29.2541ms
2025-08-18 01:55:52.135 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Logout (ContactsManager.UI)'
2025-08-18 01:55:52.139 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/Account/Logout - 302 0 null 84.842ms
2025-08-18 01:55:52.148 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/persons/Index - null null
2025-08-18 01:55:52.157 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-18 01:55:52.163 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-18 01:55:52.168 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/persons/Index - 302 0 null 20.0255ms
2025-08-18 01:55:52.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Fpersons%2FIndex - null null
2025-08-18 01:55:52.184 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:55:52.187 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:55:52.200 +03:00 [INF] Executing ViewResult, running view Login.
2025-08-18 01:55:52.256 +03:00 [INF] Executed ViewResult - view Login executed in 56.7741ms.
2025-08-18 01:55:52.262 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI) in 65.2345ms
2025-08-18 01:55:52.265 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Login (ContactsManager.UI)'
2025-08-18 01:55:52.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:55:52.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:55:52.267 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/account/login?ReturnUrl=%2Fpersons%2FIndex - 200 null text/html; charset=utf-8 91.8694ms
2025-08-18 01:55:52.271 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 4.5613ms
2025-08-18 01:55:52.284 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.6029ms
2025-08-18 01:55:53.419 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/Account/Register - null null
2025-08-18 01:55:53.426 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:55:53.434 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:55:53.460 +03:00 [INF] Executing ViewResult, running view Register.
2025-08-18 01:55:53.548 +03:00 [INF] Executed ViewResult - view Register executed in 89.0474ms.
2025-08-18 01:55:53.553 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI) in 110.2805ms
2025-08-18 01:55:53.559 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:55:53.561 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:55:53.561 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:55:53.563 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/Account/Register - 200 null text/html; charset=utf-8 143.8661ms
2025-08-18 01:55:53.578 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 16.8472ms
2025-08-18 01:55:53.580 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.1601ms
2025-08-18 01:56:10.304 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5239/Account/Register - application/x-www-form-urlencoded 334
2025-08-18 01:56:10.318 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:56:10.337 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ContactsManager.Core.DTOS.RegisterDTO) on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:56:10.521 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-18 01:56:10.537 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-08-18 01:56:10.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-08-18 01:56:10.566 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI) in 220.6102ms
2025-08-18 01:56:10.571 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:56:10.579 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Role ADMIN does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at ContactsManager.UI.Controllers.AccountController.Register(RegisterDTO registerDTO) in D:\aspdotnetcore\ContactsManager.Web\ContactsManager.Web\Controllers\AccountController.cs:line 68
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-18 01:56:10.709 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5239/Account/Register - 500 null text/html; charset=utf-8 405.4321ms
2025-08-18 01:56:10.723 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:56:10.723 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:56:10.730 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 7.3133ms
2025-08-18 01:56:10.741 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.2103ms
2025-08-18 01:57:56.858 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-18 01:57:57.040 +03:00 [INF] Now listening on: http://localhost:5239
2025-08-18 01:57:57.170 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-18 01:57:57.176 +03:00 [INF] Hosting environment: Development
2025-08-18 01:57:57.180 +03:00 [INF] Content root path: D:\aspdotnetcore\ContactsManager.Web\ContactsManager.Web
2025-08-18 01:57:57.462 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5239/Account/Register - application/x-www-form-urlencoded 334
2025-08-18 01:57:57.582 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:57:57.657 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ContactsManager.Core.DTOS.RegisterDTO) on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:57:58.999 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Entities.PersonsDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-18 01:57:59.011 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI) in 1339.3563ms
2025-08-18 01:57:59.019 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:57:59.025 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.IsInRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at ContactsManager.UI.Controllers.AccountController.Register(RegisterDTO registerDTO) in D:\aspdotnetcore\ContactsManager.Web\ContactsManager.Web\Controllers\AccountController.cs:line 68
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-18 01:57:59.133 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:57:59.136 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5239/Account/Register - 500 null text/html; charset=utf-8 1677.5795ms
2025-08-18 01:57:59.144 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-18 01:57:59.145 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:57:59.160 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Entities.PersonsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'PersonsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'PersonsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-18 01:57:59.163 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 17.3051ms
2025-08-18 01:57:59.167 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.0701ms
2025-08-18 01:58:38.081 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-18 01:58:38.271 +03:00 [INF] Now listening on: http://localhost:5239
2025-08-18 01:58:38.375 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-18 01:58:38.377 +03:00 [INF] Hosting environment: Development
2025-08-18 01:58:38.378 +03:00 [INF] Content root path: D:\aspdotnetcore\ContactsManager.Web\ContactsManager.Web
2025-08-18 01:58:38.656 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5239/Account/Register - application/x-www-form-urlencoded 334
2025-08-18 01:58:38.892 +03:00 [INF] Executing endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:58:38.934 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ContactsManager.Core.DTOS.RegisterDTO) on controller ContactsManager.UI.Controllers.AccountController (ContactsManager.UI).
2025-08-18 01:58:40.383 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-18 01:58:40.466 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-18 01:58:40.666 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Roles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2025-08-18 01:58:40.692 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-08-18 01:58:40.780 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-08-18 01:58:40.790 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-08-18 01:58:40.832 +03:00 [INF] Executed action ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI) in 1888.3221ms
2025-08-18 01:58:40.841 +03:00 [INF] Executed endpoint 'ContactsManager.UI.Controllers.AccountController.Register (ContactsManager.UI)'
2025-08-18 01:58:40.849 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User security stamp cannot be null.
   at Microsoft.AspNetCore.Identity.UserManager`1.GetSecurityStampAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.UpdateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at ContactsManager.UI.Controllers.AccountController.Register(RegisterDTO registerDTO) in D:\aspdotnetcore\ContactsManager.Web\ContactsManager.Web\Controllers\AccountController.cs:line 68
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-18 01:58:41.122 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5239/Account/Register - 500 null text/html; charset=utf-8 2469.4394ms
2025-08-18 01:58:41.125 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_vs/browserLink - null null
2025-08-18 01:58:41.146 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - null null
2025-08-18 01:58:41.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 35.8165ms
2025-08-18 01:58:41.229 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5239/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.7622ms
